<!doctype html>
<html lang="zh-Hans">
<head>
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="referrer" content="always">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="google-site-verification" content="m9HzlxEFMjeLY1dz5g98y0-93U1BVLaGlv_D4c984PI"/>
    <link rel="profile" href="http://gmpg.org/xfn/11"/>
    <link rel="canonical" href="https://2dosth.com">
    <meta property="og:locale" content="zh-Hans">

    
    <title>What is JWT? | Dosth</title>
    <meta name="description" content=""/>
    <meta name="keywords" content="T,e,c,h"/>
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="What is JWT?"/>
    <meta property="og:description" content=""/>
    <meta property="og:url" content="https://2dosth.com/post/2021/jwt.html">
    <meta property="og:site_name" content="2dosth">
    <meta property="article:tag" content="T,e,c,h">
    <meta property="article:category" content="Tech">
    <meta property="article:published_date" content="2021-03-12">

    <link rel="canonical" href="https://2dosth.com/post/2021/jwt.html">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:description" content="">
    <meta name="twitter:title" content="What is JWT?">
    <meta name="twitter:site" content="@2dosth">
    <meta name="twitter:creator" content="@2dosth">


    <link rel="stylesheet" href="/static/css/style.css" type="text/css">
    <link rel="stylesheet" href="/static/css/code.css" type="text/css">
    
        <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?c7f70ec56346e1ef095ec0104e479a46";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


    
</head>

<body data-new-gr-c-s-check-loaded="14.991.0">

<nav class="header-nav">
    <a href="/" class="site-name">Dosth</a>
    <ul class="header-links">


        <li><a href="https://twitter.com/OnePieceOwner" title="Twitter">
            <svg t="1664540582595" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 p-id="13453" width="20" height="20">
                <path d="M928 254.3c-30.6 13.2-63.9 22.7-98.2 26.4 35.4-21.1 62.3-54.4 75-94-32.7 19.5-69.7 33.8-108.2 41.2C765.4 194.6 721.1 174 672 174c-94.5 0-170.5 76.6-170.5 170.6 0 13.2 1.6 26.4 4.2 39.1-141.5-7.4-267.7-75-351.6-178.5-14.8 25.4-23.2 54.4-23.2 86.1 0 59.2 30.1 111.4 76 142.1-28-1.1-54.4-9-77.1-21.7v2.1c0 82.9 58.6 151.6 136.7 167.4-14.3 3.7-29.6 5.8-44.9 5.8-11.1 0-21.6-1.1-32.2-2.6C211 652 273.9 701.1 348.8 702.7c-58.6 45.9-132 72.9-211.7 72.9-14.3 0-27.5-0.5-41.2-2.1C171.5 822 261.2 850 357.8 850 671.4 850 843 590.2 843 364.7c0-7.4 0-14.8-0.5-22.2 33.2-24.3 62.3-54.4 85.5-88.2z"
                      p-id="13454"></path>
            </svg>
        </a></li>


        
        
        
        
        
        
        
        
        
        
        
        
        


        <li><a href="mailto:intbleem@gmail.com" title="邮件">
            <svg t="1664541082447" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 p-id="29222" width="20" height="20">
                <path d="M848 192 176 192C114.112 192 64 245.696 64 312l0 400C64 778.24 114.112 832 176 832l672 0c61.888 0 112-53.76 112-120l0-400C960 245.696 909.888 192 848 192zM885.376 332.864l-0.128 0-209.152 185.6C630.848 558.656 571.52 578.752 512.064 578.752S393.152 558.656 347.904 518.464l-209.28-185.6c0 0 45.888-35.008 92.864 0l157.248 139.584c67.968 60.416 178.56 60.416 246.592 0l157.12-139.52c46.848-34.88 92.48-0.192 92.736 0L885.376 332.864 885.376 332.864z"
                      p-id="29223" fill="#2c2c2c"></path>
            </svg>
        </a></li>

















        <li><a href="/feed.xml" title="RSS订阅">
            <svg t="1664540959387" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 p-id="26382" width="20" height="20">
                <path d="M831.601 830.694c-5.591 6.057-13.046 9.318-21.433 9.318L743.54 840.012c-15.841 0-28.887-12.114-29.819-27.956-15.375-270.703-231.099-486.428-501.803-502.269-15.841-0.932-27.956-13.979-27.956-29.354l0-66.628c0-8.387 3.262-15.842 9.318-21.433 5.591-5.591 13.046-8.387 20.501-8.387 0.466 0 0.932 0 1.398 0 163.074 8.387 316.364 76.878 431.914 192.895 116.016 115.55 184.507 268.839 192.894 431.914C840.453 816.717 837.657 824.637 831.601 830.694zM593.513 830.229c-5.591 6.522-13.512 9.784-21.898 9.784l-62.901 0c-15.375 0-27.956-11.648-29.353-27.023-13.512-142.108-126.267-254.862-268.374-268.374-15.376-1.397-27.024-13.978-27.024-29.354l0-62.9c0-8.387 3.262-16.308 9.785-21.898 5.125-5.125 12.58-7.921 20.035-7.921 0.932 0 1.398 0 2.33 0 99.243 7.921 192.894 51.252 263.249 122.073 70.821 70.354 114.152 164.006 122.073 263.248C601.899 816.25 599.104 824.171 593.513 830.229zM273.42 840.013c-49.388 0-89.458-40.069-89.458-89.458s40.07-89.458 89.458-89.458 89.458 40.069 89.458 89.458S322.809 840.013 273.42 840.013z"
                      p-id="26383" fill="#2c2c2c"></path>
            </svg>
        </a></li>
    </ul>
</nav>



<main>
    
    <article class="article">
        <header class="article-header">
            <h1>What is JWT?</h1>
            
                <p></p>
            

            <div class="article-list-footer">
                <span class="article-list-date">March 12, 2021</span>
                <span class="article-list-divider">-</span>
                <div class="article-list-category">
                    <a href="/category/Tech.html">Tech</a>
                </div>
                
                    <span class="article-list-divider">-</span>
                    <div class="article-list-tags">
                        
                            <a href="/tag/JWT.html">JWT</a>
                        
                            <a href="/tag/技术笔记.html">技术笔记</a>
                        
                    </div>
                
            </div>

        </header>

        <div class="article-body">
            <h2>What is JWT?</h2>
<blockquote>
<p>JSON Web Token (JWT) is an open standard (RFC 7519) that defines a compact and self-contained way for securely transmitting information between parties as a JSON object. This information can be verified and trusted because it is digitally signed. JWTs can be signed using a secret (with the HMAC algorithm) or a public/private key pair using RSA or ECDSA.
Although JWTs can be encrypted to also provide secrecy between parties, we will focus on signed tokens. Signed tokens can verify the integrity of the claims contained within it, while encrypted tokens hide those claims from other parties. When tokens are signed using public/private key pairs, the signature also certifies that only the party holding the private key is the one that signed it.</p>
</blockquote>
<h2>Application scenarios</h2>
<h3>Single Sign On</h3>
<p>This is the most common scenario to use JWT. In a multi-system service architecture, after a user logged in to one system at first time, there is no need to log in repeatedly when using other systems.</p>
<h3>Authorization</h3>
<p>After a user logged in, every subsequent request contains JWT. When the JWT is verified, the user is allowed to access the resource he should access.</p>
<h2>Components of JWT</h2>
<p>JWT consists of three parts: Header, Payload, Signature, and they are connected with a dot.</p>
<ul>
<li>The Header consists of two parts: the type of token and the signing algorithm being used, e.g. :</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
    <span class="err">&#39;alg&#39;</span><span class="p">:</span> <span class="s2">&quot;HS256&quot;</span><span class="p">,</span>
    <span class="err">&#39;</span><span class="kc">t</span><span class="err">yp&#39;</span><span class="p">:</span> <span class="s2">&quot;JWT&quot;</span>
<span class="p">}</span>
</code></pre></div>


<ul>
<li>The Payload is actually a place to store valid information which has three types of claims. </li>
</ul>
<p>Registered claims: Predefined claims which are not mandatory but recommended. Such as <code>iss(issuer)</code> and <code>exp(expiration time)</code></p>
<p>Public claims: They can be defined at will.</p>
<p>Private claims: These are the custom claims created to share information between parties that agree on using them and are neither registered or public claims.</p>
<ul>
<li>The Signature is a digital signature to prevent data from being tampered.</li>
</ul>
<h2>How is JWT generated</h2>
<p>JWT is divided into three parts. How do these three parts come together to form a completed JWT?</p>
<ul>
<li>The Header is encoded by base64 to get the first part.</li>
<li>The Payload is encoded by base64 to get the second part.</li>
<li>Through the algorithm in Header with a secret sign that encoded Header and encoded Payload and Connected with dot.</li>
</ul>
<p>Tips: Jwt is not encrypted, so it's better not to store some sensitive information directly in JWT.</p>
<h2>Workflow of JWT</h2>
<p>After successful login for the first time, the user will get a JWT. This JWT is the certificate for the user to interact with the server, that is, the server uses this token to determine which user the requester is.
When the user wants to access the resources on the server, the token was sent, which is usually placed in <code>authorization</code>, using <code>bearer</code> schema.
For example:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Authorization</span><span class="o">:</span> <span class="n">Bearer</span> <span class="n">token</span>
</code></pre></div>


<h2>What are the advantages over traditional session authentication?</h2>
<h3>Session authentication</h3>
<p>Because HTTP is a stateless protocol, we provide our user name and password for authentication when we first access it. Then, in the second visit, we still need to carry out a user authentication. Because according to the HTTP protocol, we don't know who the originator of the request is, in order to identify which user initiated the request, we can only save a copy of the user's information on the server, and then pass the same information to the user, so that the user can save it in cookies. In the next request, you only need to carry the information in the cookies. According to the submitted cookies, the server can determine which user it is. This is the traditional authentication based on session.</p>
<h3>Problems in session based authentication</h3>
<p>Session: after each user has been authenticated by our application, our application needs to make a record on the server to facilitate the authentication of the next request. Generally speaking, the session is saved in memory. With the increase of authenticated users, the cost of the server will increase significantly.</p>
<p>Scalability: after user authentication, the server makes authentication records. If the authentication records are saved in memory, it means that the next request of the user must be on this server, so that the authorized resources can be obtained. This also means that the expansion ability of the application is limited.</p>
<p>CSRF: because user identification is based on cookie, if cookie is intercepted, users will be vulnerable to cross site request forgery attack.</p>
<h3>What are the advantages of JWT based authentication</h3>
<ul>
<li>Tokens are stored in the client, completely stateless and scalable.</li>
<li>Security: token is different from a cookie. Each request will send a token. Since no cookie is sent, it can also prevent CSRF attacks.</li>
</ul>
<blockquote>
<p>reference from https://jwt.io/introduction</p>
</blockquote>
        </div>

    </article>

</main>

<footer>
    <div class="links">
        <ul>
            
                <li>
                    // <a href="http://blog.zhanghaoran.ren/">zhanghaoran.ren</a>
                </li>
            
        </ul>
    </div>
    &copy; Dosth | Theme: <a href="http://chalk.nielsenramon.com">Chalk</a>
    
    
    
    
</footer>


</body>
</html>