<!doctype html>
<html lang="zh-Hans">
<head>
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="referrer" content="always">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="google-site-verification" content="m9HzlxEFMjeLY1dz5g98y0-93U1BVLaGlv_D4c984PI"/>
    <link rel="profile" href="http://gmpg.org/xfn/11"/>
    <link rel="canonical" href="https://zorox.me">
    <meta property="og:locale" content="zh-Hans">

    
    <title>What is JWT? | ZORO.X</title>
    <meta name="description" content=""/>
    <meta name="keywords" content="JWT,Single Sign On"/>
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="What is JWT?"/>
    <meta property="og:description" content=""/>
    <meta property="og:url" content="https://zorox.me/post/2021/jwt.html">
    <meta property="og:site_name" content="2dosth">
    <meta property="article:tag" content="JWT,Single Sign On">
    <meta property="article:category" content="技术">
    <meta property="article:published_date" content="2021-03-12">

    <link rel="canonical" href="https://zorox.me/post/2021/jwt.html">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:description" content="">
    <meta name="twitter:title" content="What is JWT?">
    <style>
        blockquote {
            padding: 0 0 0 15px;
            margin: 0 10px 0 0;
            border-left: 1px solid #615b5b;
        }

        pre {
            border: 1px solid #ccc;
            padding: 1em;
            overflow-x: auto;
            background: #f7f7f7;
        }

        p code {
            padding: 1px 4px;
            color: #d14;
            background: #faf9f9;
            border: 1px solid #ebeaea;
            border-radius: 1px;
        }

        table {
            margin: auto;
            border-top: 1px solid #666;
            border-bottom: 1px solid #666
        }

        table thead th {
            border-bottom: 1px solid #ddd
        }

        td, th {
            padding: 5px
        }

        tfoot, thead, tr:nth-child(even) {
            background: #eee
        }

    </style>
    <style>
        pre {
            line-height: 125%;
        }

        td.linenos pre {
            color: #000000;
            background-color: #f0f0f0;
            padding-left: 5px;
            padding-right: 5px;
        }

        span.linenos {
            color: #000000;
            background-color: #f0f0f0;
            padding-left: 5px;
            padding-right: 5px;
        }

        td.linenos pre.special {
            color: #000000;
            background-color: #ffffc0;
            padding-left: 5px;
            padding-right: 5px;
        }

        span.linenos.special {
            color: #000000;
            background-color: #ffffc0;
            padding-left: 5px;
            padding-right: 5px;
        }

        .codehilite .hll {
            background-color: #ffffcc
        }

        .codehilite {
            background: rgb(248, 248, 248);
        }

        .codehilite .c {
            color: #177500
        }

        /* Comment */
        .codehilite .err {
            color: #000000
        }

        /* Error */
        .codehilite .k {
            color: #A90D91
        }

        /* Keyword */
        .codehilite .l {
            color: #1C01CE
        }

        /* Literal */
        .codehilite .n {
            color: #000000
        }

        /* Name */
        .codehilite .o {
            color: #000000
        }

        /* Operator */
        .codehilite .ch {
            color: #177500
        }

        /* Comment.Hashbang */
        .codehilite .cm {
            color: #177500
        }

        /* Comment.Multiline */
        .codehilite .cp {
            color: #633820
        }

        /* Comment.Preproc */
        .codehilite .cpf {
            color: #177500
        }

        /* Comment.PreprocFile */
        .codehilite .c1 {
            color: #177500
        }

        /* Comment.Single */
        .codehilite .cs {
            color: #177500
        }

        /* Comment.Special */
        .codehilite .kc {
            color: #A90D91
        }

        /* Keyword.Constant */
        .codehilite .kd {
            color: #A90D91
        }

        /* Keyword.Declaration */
        .codehilite .kn {
            color: #A90D91
        }

        /* Keyword.Namespace */
        .codehilite .kp {
            color: #A90D91
        }

        /* Keyword.Pseudo */
        .codehilite .kr {
            color: #A90D91
        }

        /* Keyword.Reserved */
        .codehilite .kt {
            color: #A90D91
        }

        /* Keyword.Type */
        .codehilite .ld {
            color: #1C01CE
        }

        /* Literal.Date */
        .codehilite .m {
            color: #1C01CE
        }

        /* Literal.Number */
        .codehilite .s {
            color: #C41A16
        }

        /* Literal.String */
        .codehilite .na {
            color: #836C28
        }

        /* Name.Attribute */
        .codehilite .nb {
            color: #A90D91
        }

        /* Name.Builtin */
        .codehilite .nc {
            color: #3F6E75
        }

        /* Name.Class */
        .codehilite .no {
            color: #000000
        }

        /* Name.Constant */
        .codehilite .nd {
            color: #000000
        }

        /* Name.Decorator */
        .codehilite .ni {
            color: #000000
        }

        /* Name.Entity */
        .codehilite .ne {
            color: #000000
        }

        /* Name.Exception */
        .codehilite .nf {
            color: #000000
        }

        /* Name.Function */
        .codehilite .nl {
            color: #000000
        }

        /* Name.Label */
        .codehilite .nn {
            color: #000000
        }

        /* Name.Namespace */
        .codehilite .nx {
            color: #000000
        }

        /* Name.Other */
        .codehilite .py {
            color: #000000
        }

        /* Name.Property */
        .codehilite .nt {
            color: #000000
        }

        /* Name.Tag */
        .codehilite .nv {
            color: #000000
        }

        /* Name.Variable */
        .codehilite .ow {
            color: #000000
        }

        /* Operator.Word */
        .codehilite .mb {
            color: #1C01CE
        }

        /* Literal.Number.Bin */
        .codehilite .mf {
            color: #1C01CE
        }

        /* Literal.Number.Float */
        .codehilite .mh {
            color: #1C01CE
        }

        /* Literal.Number.Hex */
        .codehilite .mi {
            color: #1C01CE
        }

        /* Literal.Number.Integer */
        .codehilite .mo {
            color: #1C01CE
        }

        /* Literal.Number.Oct */
        .codehilite .sa {
            color: #C41A16
        }

        /* Literal.String.Affix */
        .codehilite .sb {
            color: #C41A16
        }

        /* Literal.String.Backtick */
        .codehilite .sc {
            color: #2300CE
        }

        /* Literal.String.Char */
        .codehilite .dl {
            color: #C41A16
        }

        /* Literal.String.Delimiter */
        .codehilite .sd {
            color: #C41A16
        }

        /* Literal.String.Doc */
        .codehilite .s2 {
            color: #C41A16
        }

        /* Literal.String.Double */
        .codehilite .se {
            color: #C41A16
        }

        /* Literal.String.Escape */
        .codehilite .sh {
            color: #C41A16
        }

        /* Literal.String.Heredoc */
        .codehilite .si {
            color: #C41A16
        }

        /* Literal.String.Interpol */
        .codehilite .sx {
            color: #C41A16
        }

        /* Literal.String.Other */
        .codehilite .sr {
            color: #C41A16
        }

        /* Literal.String.Regex */
        .codehilite .s1 {
            color: #C41A16
        }

        /* Literal.String.Single */
        .codehilite .ss {
            color: #C41A16
        }

        /* Literal.String.Symbol */
        .codehilite .bp {
            color: #5B269A
        }

        /* Name.Builtin.Pseudo */
        .codehilite .fm {
            color: #000000
        }

        /* Name.Function.Magic */
        .codehilite .vc {
            color: #000000
        }

        /* Name.Variable.Class */
        .codehilite .vg {
            color: #000000
        }

        /* Name.Variable.Global */
        .codehilite .vi {
            color: #000000
        }

        /* Name.Variable.Instance */
        .codehilite .vm {
            color: #000000
        }

        /* Name.Variable.Magic */
        .codehilite .il {
            color: #1C01CE
        }

        /* Literal.Number.Integer.Long */
    </style>


    

    <style>
        body {
            font-family: monospace;
            max-width: 650px;
            margin: 8px auto;
            padding: 0 8px;
            font-size: 1rem;
        }

        img {
            max-width: 100%;
        }
    </style>
</head>

<body>


    <a href="/">..</a>
    <br>


<main>
    
    <article class="article">
        <h1>What is JWT?</h1>
        <h2>What is JWT?</h2>
<blockquote>
<p>JSON Web Token (JWT) is an open standard (RFC 7519) that defines a compact and self-contained way for securely transmitting information between parties as a JSON object. This information can be verified and trusted because it is digitally signed. JWTs can be signed using a secret (with the HMAC algorithm) or a public/private key pair using RSA or ECDSA.
Although JWTs can be encrypted to also provide secrecy between parties, we will focus on signed tokens. Signed tokens can verify the integrity of the claims contained within it, while encrypted tokens hide those claims from other parties. When tokens are signed using public/private key pairs, the signature also certifies that only the party holding the private key is the one that signed it.</p>
</blockquote>
<h2>Application scenarios</h2>
<h3>Single Sign On</h3>
<p>This is the most common scenario to use JWT. In a multi-system service architecture, after a user logged in to one system at first time, there is no need to log in repeatedly when using other systems.</p>
<h3>Authorization</h3>
<p>After a user logged in, every subsequent request contains JWT. When the JWT is verified, the user is allowed to access the resource he should access.</p>
<h2>Components of JWT</h2>
<p>JWT consists of three parts: Header, Payload, Signature, and they are connected with a dot.</p>
<ul>
<li>The Header consists of two parts: the type of token and the signing algorithm being used, e.g. :</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
    <span class="err">&#39;alg&#39;</span><span class="p">:</span> <span class="s2">&quot;HS256&quot;</span><span class="p">,</span>
    <span class="err">&#39;</span><span class="kc">t</span><span class="err">yp&#39;</span><span class="p">:</span> <span class="s2">&quot;JWT&quot;</span>
<span class="p">}</span>
</code></pre></div>


<ul>
<li>The Payload is actually a place to store valid information which has three types of claims. </li>
</ul>
<p>Registered claims: Predefined claims which are not mandatory but recommended. Such as <code>iss(issuer)</code> and <code>exp(expiration time)</code></p>
<p>Public claims: They can be defined at will.</p>
<p>Private claims: These are the custom claims created to share information between parties that agree on using them and are neither registered or public claims.</p>
<ul>
<li>The Signature is a digital signature to prevent data from being tampered.</li>
</ul>
<h2>How is JWT generated</h2>
<p>JWT is divided into three parts. How do these three parts come together to form a completed JWT?</p>
<ul>
<li>The Header is encoded by base64 to get the first part.</li>
<li>The Payload is encoded by base64 to get the second part.</li>
<li>Through the algorithm in Header with a secret sign that encoded Header and encoded Payload and Connected with dot.</li>
</ul>
<p>Tips: Jwt is not encrypted, so it's better not to store some sensitive information directly in JWT.</p>
<h2>Workflow of JWT</h2>
<p>After successful login for the first time, the user will get a JWT. This JWT is the certificate for the user to interact with the server, that is, the server uses this token to determine which user the requester is.
When the user wants to access the resources on the server, the token was sent, which is usually placed in <code>authorization</code>, using <code>bearer</code> schema.
For example:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Authorization</span><span class="o">:</span> <span class="n">Bearer</span> <span class="n">token</span>
</code></pre></div>


<h2>What are the advantages over traditional session authentication?</h2>
<h3>Session authentication</h3>
<p>Because HTTP is a stateless protocol, we provide our user name and password for authentication when we first access it. Then, in the second visit, we still need to carry out a user authentication. Because according to the HTTP protocol, we don't know who the originator of the request is, in order to identify which user initiated the request, we can only save a copy of the user's information on the server, and then pass the same information to the user, so that the user can save it in cookies. In the next request, you only need to carry the information in the cookies. According to the submitted cookies, the server can determine which user it is. This is the traditional authentication based on session.</p>
<h3>Problems in session based authentication</h3>
<p>Session: after each user has been authenticated by our application, our application needs to make a record on the server to facilitate the authentication of the next request. Generally speaking, the session is saved in memory. With the increase of authenticated users, the cost of the server will increase significantly.</p>
<p>Scalability: after user authentication, the server makes authentication records. If the authentication records are saved in memory, it means that the next request of the user must be on this server, so that the authorized resources can be obtained. This also means that the expansion ability of the application is limited.</p>
<p>CSRF: because user identification is based on cookie, if cookie is intercepted, users will be vulnerable to cross site request forgery attack.</p>
<h3>What are the advantages of JWT based authentication</h3>
<ul>
<li>Tokens are stored in the client, completely stateless and scalable.</li>
<li>Security: token is different from a cookie. Each request will send a token. Since no cookie is sent, it can also prevent CSRF attacks.</li>
</ul>
<blockquote>
<p>reference from https://jwt.io/introduction</p>
</blockquote>
        <hr>
        <span>
            Date:&nbsp;2021-03-12<br>
            Category:&nbsp;<a href="/category/技术.html">技术</a><br>
            Tags:&nbsp;
            <a href="/tag/JWT.html">JWT</a>&nbsp;
        
            <a href="/tag/Single Sign On.html">Single Sign On</a>&nbsp;
        
        </span>
    </article>

</main>


    <footer>
    <hr>
    &copy; 2020-2022 ZOROX · CC BY-SA 4.0
</footer>




</body>
</html>